(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a59b50ec"],{"0e499":function(t,e,a){"use strict";var n=a("9e88"),i=a.n(n);i.a},"34f9":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("app-section",[a("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.pullLoading,callback:function(e){t.pullLoading=e},expression:"pullLoading"}},[a("van-list",{attrs:{finished:t.listFinished,"finished-text":t.finishedText,error:t.listError,"error-text":"请求失败，点击重新加载"},on:{"update:error":function(e){t.listError=e},load:function(e){return t.onLoad()}},model:{value:t.listLoading,callback:function(e){t.listLoading=e},expression:"listLoading"}},t._l(t.applyList,(function(e,n){return a("van-cell",{key:n,attrs:{icon:"static/mobile/icon/user.png",title:e.bpmBizTitle,"is-link":""},on:{click:function(a){return t.taskDetailRoute(e)}}},[a("template",{slot:"label"},[a("van-tag",{attrs:{plain:"",type:"primary"}},[t._v(t._s(e.processDefinitionName))]),a("div",{staticStyle:{"padding-top":"3px"}},[t._v("\n            "+t._s(e.processApplyUserId)+"\n            "),a("span",{staticStyle:{"margin-left":"5px"}},[t._v(t._s(e.taskBeginTime))])])],1),e.taskAssigneeName&&""!=e.taskAssigneeName?t._e():a("div",{attrs:{slot:"right-icon"},slot:"right-icon"},[a("van-tag",{attrs:{plain:"",type:"warning"}},[t._v("待签收")])],1)],2)})),1)],1)],1)},i=[],s=(a("ac4d"),a("8a81"),a("ac6a"),a("7ef7")),l=a("c22a"),r=a("aa8f"),o={name:"tab-wait",components:{AppSection:l["default"],AppBlock:s["default"]},data:function(){return{listError:!1,listLoading:!1,pullLoading:!1,listFinished:!1,finishedText:"没有更多了",pageNo:1,pageSize:5,url:"/act/task/list",claimUrl:"/act/task/claim",applyList:[]}},mounted:function(){},watch:{$route:function(){this.onRefresh()}},methods:{taskDetailRoute:function(t){t.taskAssigneeName&&""!=t.taskAssigneeName?this.$router.push({name:"myTaskDetail",params:{taskId:t.id,instanceId:t.processInstanceId}}):this.handleClaim(t)},handleClaim:function(t){var e=this;this.$dialog.confirm({title:"提示",message:"是否签收该任务?"}).then((function(){var a={taskId:t.id};Object(r["e"])(e.claimUrl,a).then((function(t){t.success?(e.$toast(t.message),e.onRefresh()):e.$toast.fail(t.message)}))})).catch((function(){}))},onRefresh:function(){var t=this;this.pullLoading=!0,this.pageNo=1;var e={pageNo:this.pageNo,pageSize:this.pageSize};this.applyList=[],Object(r["a"])(this.url,e).then((function(e){if(t.pullLoading=!1,e.success){t.pageNo++;var a=e.result.records,n=!0,i=!1,s=void 0;try{for(var l,r=a[Symbol.iterator]();!(n=(l=r.next()).done);n=!0){var o=l.value;t.applyList.push(o)}}catch(c){i=!0,s=c}finally{try{n||null==r.return||r.return()}finally{if(i)throw s}}}}))},onLoad:function(){var t=this;this.listLoading=!0;var e={pageNo:this.pageNo,pageSize:this.pageSize};Object(r["a"])(this.url,e).then((function(e){if(t.listLoading=!1,e.success){t.pageNo++;var a=e.result.records,n=!0,i=!1,s=void 0;try{for(var l,r=a[Symbol.iterator]();!(n=(l=r.next()).done);n=!0){var o=l.value;t.applyList.push(o)}}catch(c){i=!0,s=c}finally{try{n||null==r.return||r.return()}finally{if(i)throw s}}(!a||a.length<t.pageSize)&&(t.listFinished=!0)}else t.error=!0})).catch((function(e){t.error=!0}))}}},c=o,u=(a("edfb"),a("2877")),p=Object(u["a"])(c,n,i,!1,null,"13402694",null);e["default"]=p.exports},"7ac6":function(t,e,a){},"7e93":function(t,e,a){},"7ef7":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"j-app-block"},[a("div",{staticClass:"block_title"},[a("div",{staticStyle:{background:"#fff",padding:"10px 10px 10px"}},[t._v("\n      "+t._s(t.title)+"\n    ")])]),t._t("default")],2)},i=[],s={name:"AppBlock",props:{title:String}},l=s,r=(a("b6cb"),a("2877")),o=Object(r["a"])(l,n,i,!1,null,null,null);e["default"]=o.exports},"9e88":function(t,e,a){},b6cb:function(t,e,a){"use strict";var n=a("7e93"),i=a.n(n);i.a},c22a:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"j-app-section"},[t.loading?a("van-loading",{staticStyle:{"padding-top":"100px","text-align":"center"},attrs:{type:"spinner",color:"#1989fa"}}):t._e(),t._t("default")],2)},i=[],s={name:"AppSection",props:{loading:{type:Boolean,default:!1,required:!1}}},l=s,r=(a("0e499"),a("2877")),o=Object(r["a"])(l,n,i,!1,null,null,null);e["default"]=o.exports},edfb:function(t,e,a){"use strict";var n=a("7ac6"),i=a.n(n);i.a}}]);