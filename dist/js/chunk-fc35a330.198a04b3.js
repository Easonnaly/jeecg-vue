(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fc35a330"],{"7bd5":function(e,n,t){},bc23:function(e,n,t){"use strict";t.r(n);var s=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[t("van-nav-bar",{attrs:{"left-arrow":"",title:"登录",fixed:"","z-index":10}}),t("div",{staticClass:"nav-con align-center login-con",staticStyle:{"background-color":"#fff"}},[t("div",{staticClass:"top-area"},[t("van-image",{staticClass:"top-logo",attrs:{src:"static/mobile/img/login/vant_logo.png"}}),t("div",[e._v("JEECG BOOT MOBILE")])],1),1==e.loginWay?t("div",[t("van-cell-group",[t("van-field",{attrs:{label:"用户名",placeholder:"请输入手机号/用户名(随便填)","left-icon":"static/mobile/img/login/login_user.png",required:"",clearable:"","label-align":"left",size:"large",maxlength:"20"},model:{value:e.userName,callback:function(n){e.userName=n},expression:"userName"}}),t("van-field",{attrs:{label:"密  码",placeholder:"请输入密码(随便填)","left-icon":"static/mobile/img/login/login_pass.png","right-icon":"static/mobile/img/login/eye_"+(e.showPassword?"open":"close")+".png",size:"large",required:"",clearable:"",type:e.showPassword?"text":"password",maxlength:"20"},on:{"click-right-icon":function(n){e.showPassword=!e.showPassword}},model:{value:e.password,callback:function(n){e.password=n},expression:"password"}})],1),t("div",{staticClass:"button-con"},[t("van-button",{staticClass:"login-btn",attrs:{type:"danger",round:""},on:{click:e.onLogin}},[e._v("登录\n        ")]),t("van-button",{staticClass:"login-btn",attrs:{type:"danger",plain:"",round:""},on:{click:function(n){e.loginWay=3-e.loginWay}}},[e._v("短信登录")])],1)],1):t("div",[t("van-cell-group",[t("van-field",{attrs:{"left-icon":"static/mobile/img/login/login_user.png",required:"",clearable:"",label:"手机号",placeholder:"请输入手机号(随便填)","label-align":"left",size:"large",maxlength:"11"},model:{value:e.userName,callback:function(n){e.userName=n},expression:"userName"}}),t("van-field",{attrs:{clearable:"",label:"验证码",placeholder:"请输入短信验证码",size:"large","left-icon":"envelop-o",maxlength:"6",required:""},model:{value:e.smsCode,callback:function(n){e.smsCode=n},expression:"smsCode"}},[t("van-button",{staticClass:"send-btn",attrs:{slot:"button",size:"small",plain:"",type:"danger",disabled:!e.isSendSMSEnable},on:{click:e.onSMSSend},slot:"button"},[e._v("\n            "+e._s(e.getSendBtnText)+"\n          ")])],1)],1),t("div",{staticClass:"button-con"},[t("van-button",{staticClass:"login-btn",attrs:{type:"danger",round:"",disabled:!e.canSMSLogin},on:{click:e.onSMSLogin}},[e._v("登录\n        ")]),t("van-button",{staticClass:"login-btn",attrs:{type:"danger",plain:"",round:""},on:{click:function(n){e.loginWay=3-e.loginWay}}},[e._v("账号登录")])],1)],1)])],1)},o=[],a=(t("8e6e"),t("ac6a"),t("456d"),t("bd86")),i=(t("e055"),t("d399")),r=t("f564"),l=t("2f62"),c=t("13b3"),u=t("62d4");function d(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);n&&(s=s.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,s)}return t}function g(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?d(t,!0).forEach((function(n){Object(a["a"])(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var f={name:"login-page",data:function(){return{userName:"",password:"",smsCode:"",showPassword:!1,loginWay:1,smsCountDown:0,smsCountInterval:null}},computed:{isSendSMSEnable:function(){return this.smsCountDown<=0&&this.userName.length>4},getSendBtnText:function(){return this.smsCountDown>0?this.smsCountDown+"秒后发送":"发送验证码"},canSMSLogin:function(){return this.userName.length>4&&this.smsCode.length>4},canPwdLogin:function(){return this.userName.length>4&&this.password.length>4}},mounted:function(){},beforeDestroy:function(){this.smsCountInterval&&clearInterval(this.smsCountInterval)},methods:g({},Object(l["b"])(["mLogin"]),{onLogin:function(){var e=this;if(this.userName&&0!=this.userName.length)if(this.password&&0!=this.password.length){var n={username:this.userName,password:this.password};this.mLogin(n).then((function(n){n.success?(c["a"].$addRoutes(Object(u["e"])()),Object(r["a"])({type:"success",message:"登陆成功!"}),e.$router.push({path:"/main/home"})):i["a"].fail(n.result.message)})).catch((function(e){var n=((e.response||{}).data||{}).message||e.message||"请求出现错误，请稍后再试";i["a"].fail(n)}))}else Object(i["a"])("请填写密码");else Object(i["a"])("请填写用户名")},onSMSSend:function(){setTimeout((function(){}),300)},startSMSTimer:function(){var e=this;this.smsCountInterval=setInterval((function(){e.smsCountDown--,e.smsCountDown<=0&&clearInterval(e.smsCountInterval)}),1e3)},onSMSLogin:function(){this.onLoginClick()},onLoginClick:function(){var e=this;setTimeout((function(){e.$router.push({path:"/main/home"})}),1e3)},saveUserInfo:function(){this.userName}})},m=f,b=(t("dfd4"),t("2877")),p=Object(b["a"])(m,s,o,!1,null,"124ecd94",null);n["default"]=p.exports},c33b:function(e,n,t){},dfd4:function(e,n,t){"use strict";var s=t("c33b"),o=t.n(s);o.a},e055:function(e,n,t){t("ef8d"),t("b763"),t("7bd5")}}]);